{"version":3,"file":"static/js/main.chunk.js","sources":["/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/App.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/Context/Context.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/Context/WithConsumer.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/Archive.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/NotFound.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/Single.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/shared/Footer.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/shared/Header.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/shared/TheLoop.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/shared/ThePost.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/components/shared/helpers.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/index.js","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/src/scss/index.scss","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/ignored /Applications/MAMP/htdocs/wp-content/themes/react-test/node_modules/htmlparser2/lib readable-stream","/Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/ignored /Applications/MAMP/htdocs/wp-content/themes/react-test/react-src/node_modules/htmlparser2/lib readable-stream"],"sourcesContent":["import React from \"react\";\nimport { Switch, Route } from 'react-router-dom';\n\nimport Archive from './components/Archive';\nimport Single from './components/Single';\nimport NotFound from './components/NotFound';\n\nfunction App(props) {\n    return (\n        <div className=\"App\">\n            <Switch>\n                <Route exact path=\"/\" component={Archive} />\n                <Route path=\"/:route/:slug\" component={Single} />\n                <Route path=\"/search/:term\" component={Archive} />\n                <Route component={NotFound} />\n            </Switch>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport axios from 'axios';\n\nconst storeContext = React.createContext();\nexport const Consumer = storeContext.Consumer;\n\nexport class Provider extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let route = '',\n            slug = '';\n\n        if (this.props.match !== undefined) {\n            route = this.props.match.params.route;\n            slug = this.props.match.params.slug ? this.props.match.params.slug : '';\n        }\n\n        this.state = {\n            slug: slug,\n            route: route,\n            posts: []\n        }\n    }\n\n    buildUrl() {\n        let url = '/wp-json/wp/v2/';\n        // console.log('rest type', this.state.restType);\n\n        switch(this.state.route) {\n            case 'page':\n                url += 'pages/?slug=' + this.state.slug;\n                break;\n            case 'post':\n                url += 'posts/?slug=' + this.state.slug;\n                break;\n            default:\n                url += 'posts';\n                break;\n        }\n        // console.log('URL', url);\n        return url;\n    }\n\n    getPosts(url) {\n        let self = this;\n        // console.log(\"THIS\", this, \"\\nthis.state:\", this.state)\n\n        axios.get(url)\n            .then( res => {\n                // console.log(\"RESPONSE\",res.data)\n                self.setState({\n                    ...this.state,\n                    posts: res.data\n                })\n            })\n            .catch( err => {\n                console.log(err);\n                self.appError = 'An unexpected error occurred';\n            })\n    }\n\n    componentDidMount() {\n        // console.log('CONTEXT get posts', this.props);\n        this.getPosts(this.buildUrl());\n    }\n\n    componentDidUpdate(prevProps) {\n        // some stuff\n    }\n\n    render() {\n        return (\n            <storeContext.Provider value={this.state}>\n                {this.props.children}\n            </storeContext.Provider>\n        )\n    }\n}","import React from 'react';\nimport { Consumer } from './Context';\n\nconst WithConsumer = WrappedComponent => {\n    return function(props) {\n        return (\n            <Consumer>\n                {ctx => <WrappedComponent {...props} context={ctx} />}\n            </Consumer>\n        )\n    }\n}\n\nexport default WithConsumer;","import React from 'react';\n\nimport Header from './shared/Header';\nimport Footer from './shared/Footer';\nimport TheLoop from './shared/TheLoop';\nimport { Provider } from '../Context/Context';\n\nconst Archive = props => {\n    return (\n        <Provider>\n            <div className=\"Post\">\n                <Header />\n                <TheLoop {...props} />\n                <Footer />\n            </div>\n        </Provider>\n    )\n}\n\nexport default Archive;","import React from 'react';\n\nimport Header from './shared/Header';\nimport Footer from './shared/Footer';\n\nconst NotFound = props => {\n    return (\n        <div className=\"Post\">\n            <Header />\n            this is NotFound component!!!\n            <Footer />\n        </div>\n    )\n}\n\nexport default NotFound;","import React from 'react';\n\nimport Header from './shared/Header';\nimport Footer from './shared/Footer';\nimport TheLoop from './shared/TheLoop';\nimport { Provider } from '../Context/Context';\n\nconst Single = props => {\n    return (\n        <Provider {...props}>\n            <div className=\"Post\">\n                <Header />\n                <TheLoop {...props} />\n                <Footer />\n            </div>\n        </Provider>\n    )\n}\n\nexport default Single;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getMenu } from './helpers';\n\nconst Footer = props => {\n    const [footerMenu, setFooterMenu] = useState(undefined);\n\n    useEffect( () => {\n        async function setMenu() {\n            let menuItems = await getMenu('footer-menu');\n            setFooterMenu(menuItems);\n        }\n\n        if(footerMenu === undefined) setMenu();\n    }, [footerMenu])\n    \n    return (\n        <footer className=\"Post\">\n            {footerMenu && footerMenu.length > 0 ? (\n            <ul className=\"menu footer-menu\">\n                {footerMenu.map( item => {\n                    return (\n                        <li><Link to={`/page/${item.object_slug}`}>{item.title}</Link></li>\n                    )\n                })}\n            </ul>\n            ) : ''}\n            <span class=\"copyright\">&copy;&#8201;2017&#8202;&#8211;&#8202;{`${new Date().getFullYear()}`}. All rights reserved.</span>\n        </footer>\n    )\n}\n\nexport default Footer;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getMenu } from './helpers';\n\nconst Header = props => {\n    const [headerMenu, setHeaderMenu] = useState(undefined);\n\n    useEffect( () => {\n        async function setMenu() {\n            let menuItems = await getMenu('header-main');\n            setHeaderMenu(menuItems);\n        }\n\n        if(headerMenu === undefined) setMenu();\n    }, [headerMenu])\n\n    return (\n        <header className=\"Post\">\n            {headerMenu && headerMenu.length > 0 ? (\n            <ul className=\"menu footer-menu\">\n                {headerMenu.map( item => {\n                    return (\n                        <li><Link to={`/page/${item.object_slug}`}>{item.title}</Link></li>\n                    )\n                })}\n            </ul>\n            ) : ''}\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\nimport WithConsumer from '../../Context/WithConsumer';\nimport ThePost from './ThePost';\n\nconst TheLoop = ({context, ...props}) => {\n    const posts = () => context.posts;\n    const pos = posts();\n    // console.log('LOOP:\\n', pos, '\\nPROPS:', props);\n\n    let results = '';\n\n    if(context.appError) {\n        results = <div className='app-error'>{context.appError}</div>\n    } else {\n        if(pos.length === 0) {\n            results = <div className=\"no-results\">no results</div>\n        } else {\n            results = pos.map( (item, i) => {\n                return <ThePost key={i} post={item} route={context.route}></ThePost>\n            })\n        }\n    }\n\n    return (results);\n}\n\nexport default WithConsumer(TheLoop);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { sanitizeContent } from './helpers';\nimport ReactHtmlParser from 'react-html-parser';\n// import sanitizeHtml from 'sanitize-html-react';\n\nconst ThePost = ({post, route}) => {\n\n    // const posts = () => item.posts;\n    // const item = posts()[index];\n\n    // let linkPrefix = item.type === 'page' ? '/page/' : '/post/';\n    let theContent = '',\n        renderContent = '';\n\n    switch(route) {\n        case '/':\n        case '/search/:term':\n        case '/category/:catid':\n            theContent = post.excerpt.rendered;\n            break;\n        default:\n            theContent = post.content.rendered;\n            break;\n    }\n\n    if (theContent !== '') {\n        // console.log('theContent', theContent);\n        renderContent = sanitizeContent(theContent);\n    }\n\n    return (\n        <div id={'post-id-'+post.id} className={'post-item'}>\n            <h2><Link to={\"/\"+post.type+\"/\"+post.slug}>{post.title.rendered}</Link></h2>\n            {/* <PostMeta index={index}></PostMeta> */}\n            <div className=\"post-content\">{ ReactHtmlParser(renderContent) }</div>\n        </div>\n    )\n}\n\nexport default ThePost;","import sanitizeHtml from 'sanitize-html-react';\nimport axios from 'axios';\n\nconst allowedTags = ['b', 'i', 'em', 'strong', 'a', 'p'];\nconst allowedAttr = { 'a' : [ 'href', 'alt' ] };\n\nexport const sanitizeContent = (content) => sanitizeHtml(content, {\n    allowedTags : allowedTags,\n    allowedAttr : allowedAttr\n});\n\nconst getSpecifiedMenuID = (menuName) => {\n    return axios.get('/wp-json/wp-api-menus/v2/menus')\n        .then( res => {\n            // console.log('MENU HELPER', res);\n            const regMenus = res.data;\n            const wantedMenu = regMenus.filter( item => {\n                return menuName === item.name\n            })\n            // console.log('wantedMenu[0].ID',wantedMenu[0].ID)\n            return wantedMenu[0].ID;\n        })\n        .catch( err => {\n            console.log('MENU HELPER', err);\n        })\n}\n\nconst getSpecifiedMenu = async (id) => {\n    return axios.get(`/wp-json/wp-api-menus/v2/menus/${id}`)\n        .then( res => {\n            return res.data.items;\n        })\n        .catch( err => {\n            console.log(err);\n        })\n}\n\nexport const getMenu = async (menuName) => {\n    const menuId = await getSpecifiedMenuID(menuName);\n    const footerMenu = await getSpecifiedMenu(menuId);\n    return footerMenu;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, withRouter } from 'react-router-dom';\n\nimport './scss/index.scss';\n\nimport App from './App';\n\nconst AppWithRouter = withRouter(App);\n\nReactDOM.render(\n  <Router>\n    <AppWithRouter />\n  </Router>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACpBA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AATA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAxEA;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACbA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;ACnBA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACfA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACzCA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;ACZA;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}